'use strict';const _0xd25496=_0x8440;(function(_0x29936d,_0xc7b02){const _0x41b66d=_0x8440,_0x550129=_0x29936d();while(!![]){try{const _0x2afcc9=parseInt(_0x41b66d(0x121))/0x1*(parseInt(_0x41b66d(0xec))/0x2)+-parseInt(_0x41b66d(0xdf))/0x3+parseInt(_0x41b66d(0x124))/0x4+-parseInt(_0x41b66d(0xdc))/0x5*(-parseInt(_0x41b66d(0xee))/0x6)+-parseInt(_0x41b66d(0x112))/0x7*(-parseInt(_0x41b66d(0xfd))/0x8)+-parseInt(_0x41b66d(0xd0))/0x9+-parseInt(_0x41b66d(0x122))/0xa;if(_0x2afcc9===_0xc7b02)break;else _0x550129['push'](_0x550129['shift']());}catch(_0x24fb54){_0x550129['push'](_0x550129['shift']());}}}(_0x345c,0x780f7));var map,resultmap,markers=[],guess_coordinates=[],true_location=[],accumulated_distance=0x0,current_name='',distance_from_guess=[],check_count=0x0,choiceLocation='HN';function _0x345c(){const _0x115280=['1792988PzzFLP','onclick','head','block','click','Viewer','location','error','featureGroup','Error\x20in\x20initialize\x20function:','PhotoSphereViewer\x20not\x20available,\x20using\x20fallback\x20image','appendChild','disabled','addEventListener','<img\x20src=\x22','https://maps.google.com/mapfiles/ms/icons/green-dot.png','innerHTML','latlng','style','random','loading-styles','m\x20away.','pad','json','3544110hlEHtM','\x0a\x20\x20\x20\x20\x20\x20@keyframes\x20spin\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x200%\x20{\x20transform:\x20rotate(0deg);\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20100%\x20{\x20transform:\x20rotate(360deg);\x20}\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20','textContent','ready','hide','\x0a\x20\x20\x20\x20\x20\x20<div\x20style=\x22width:100%;\x20height:400px;\x20display:flex;\x20justify-content:center;\x20align-items:center;\x20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22text-align:center;\x20color:\x20#e74c3c;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22font-size:\x2018px;\x20margin-bottom:\x2010px;\x22>⚠️\x20Error\x20loading\x20image</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22font-size:\x2014px;\x22>Retrying...</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','reload','resultText','addTo','length','pano','thumb_original_url','9445VAsDuo','resultModal','Excellent!','846330pZSpct','https://maps.google.com/mapfiles/ms/icons/red-dot.png','\x0a\x20\x20\x20\x20\x20\x20<div\x20style=\x22width:100%;\x20height:400px;\x20display:flex;\x20justify-content:center;\x20align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22text-align:center;\x20color:\x20#e74c3c;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22font-size:\x2018px;\x20margin-bottom:\x2010px;\x22>⚠️\x20Failed\x20to\x20load</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22location.reload()\x22\x20style=\x22padding:\x208px\x2016px;\x20background:\x20#3498db;\x20color:\x20white;\x20border:\x20none;\x20border-radius:\x205px;\x20cursor:\x20pointer;\x22>Retry</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','log','zoom','fullscreen','includes','getElementById','map','getBounds','Hmm!\x20Nice\x20try.','No\x20images\x20found,\x20retrying...','catch','38VPvQoL','Panorama\x20image\x20loaded','1770OfutxO','Error\x20loading\x20panorama:','Error\x20initializing\x20Photo\x20Sphere\x20Viewer:','warn','href','is_pano','panorama-loaded','sin','Modal','MLY|24113623194974280|5bf83fa202912f1cc3210b2cf968fb65','panorama-error','result','data','then','lng','440xSKyyZ','invalidateSize','none','check','donateModal','blue','tileLayer','distance-guess','fitBounds','\x22\x20style=\x22width:100%;\x20height:100%;\x20object-fit:cover;\x20border-radius:10px;\x22\x20/>','https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png','\x0a\x20\x20\x20\x20<div\x20style=\x22width:100%;\x20height:400px;\x20display:flex;\x20justify-content:center;\x20align-items:center;\x20\x22>\x0a\x20\x20\x20\x20\x20\x20<div\x20style=\x22text-align:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22border:\x204px\x20solid\x20#f3f3f3;\x20border-top:\x204px\x20solid\x20#3498db;\x20border-radius:\x2050%;\x20width:\x2040px;\x20height:\x2040px;\x20animation:\x20spin\x202s\x20linear\x20infinite;\x20margin:\x200\x20auto\x2015px;\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22color:\x20#666;\x20font-size:\x2016px;\x22>Loading\x20image...</div>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20','PhotoSphereViewer','VIET\x20NAM','coordinates','marker','join','icon','&is_pano=true','5,\x2010','\x20KM','78918fUFGfZ','geometry','url','cos','display','polyline','lat','Excellent!\x20Your\x20distance\x20is\x20','toFixed','Loading\x20image...','&fields=id,thumb_original_url,geometry,is_pano&limit=3&bbox=','Error\x20fetching\x20image:','onload','Image\x20fetched\x20successfully','Good\x20job!','41081kYvWOe','12384440xzDeBh','bindPopup'];_0x345c=function(){return _0x115280;};return _0x345c();}function _0x8440(_0x54775d,_0x1e59dd){const _0x345cc2=_0x345c();return _0x8440=function(_0x844079,_0x20a4d9){_0x844079=_0x844079-0xbb;let _0xa25c05=_0x345cc2[_0x844079];return _0xa25c05;},_0x8440(_0x54775d,_0x1e59dd);}const boundingBoxVN={'HN':[105.75,20.99,105.88,21.08,0.005],'TPHCM':[106.62,10.71,106.83,10.83,0.005],'HP':[106.65,20.8,106.75,20.9,0.5],'ND':[0x6a,20.35,106.25,20.5,0.005],'DN':[108.17,0x10,108.25,16.1,0.005]};var minLat=boundingBoxVN[choiceLocation][0x1],maxLat=boundingBoxVN[choiceLocation][0x3],minLong=boundingBoxVN[choiceLocation][0x0],maxLong=boundingBoxVN[choiceLocation][0x2],delta=boundingBoxVN[choiceLocation][0x4];const accessToken=_0xd25496(0xf7);async function getRandomMapillaryImage(){const _0x24d4ae=_0xd25496,_0x33b6ee=Math['random']()*(maxLat-minLat)+minLat,_0x1f6b42=Math[_0x24d4ae(0xcb)]()*(maxLong-minLong)+minLong,_0x585161=[(_0x1f6b42-delta)[_0x24d4ae(0x11a)](0x4),(_0x33b6ee-delta)[_0x24d4ae(0x11a)](0x4),(_0x1f6b42+delta)['toFixed'](0x4),(_0x33b6ee+delta)[_0x24d4ae(0x11a)](0x4)][_0x24d4ae(0x10d)](','),_0xbf69ac='https://graph.mapillary.com/images?access_token='+accessToken+_0x24d4ae(0x11c)+_0x585161+_0x24d4ae(0x10f);try{console[_0x24d4ae(0xe2)]('Fetching\x20panoramic\x20image...');const _0x2a7646=await fetch(_0xbf69ac),_0x466728=await _0x2a7646[_0x24d4ae(0xcf)]();if(_0x466728[_0x24d4ae(0xfa)]&&_0x466728[_0x24d4ae(0xfa)][_0x24d4ae(0xd9)]>0x0){const _0x40efc0=_0x466728[_0x24d4ae(0xfa)]['filter'](_0x5077b3=>_0x5077b3[_0x24d4ae(0xf3)]),_0x1066bc=_0x40efc0[_0x24d4ae(0xd9)]>0x0?_0x40efc0[Math['floor'](Math[_0x24d4ae(0xcb)]()*_0x40efc0[_0x24d4ae(0xd9)])]:_0x466728[_0x24d4ae(0xfa)][0x0];return console['log'](_0x24d4ae(0x11f)),{'lat':_0x1066bc[_0x24d4ae(0x113)]['coordinates'][0x1],'lng':_0x1066bc[_0x24d4ae(0x113)][_0x24d4ae(0x10b)][0x0],'url':_0x1066bc[_0x24d4ae(0xdb)],'id':_0x1066bc['id'],'isPano':_0x1066bc['is_pano']||![]};}else return console[_0x24d4ae(0xe2)](_0x24d4ae(0xea)),getRandomMapillaryImage();}catch(_0x47cac0){console[_0x24d4ae(0xbf)](_0x24d4ae(0x11d),_0x47cac0),document[_0x24d4ae(0xe6)](_0x24d4ae(0xda))['innerHTML']=_0x24d4ae(0xd5),setTimeout(()=>getRandomMapillaryImage(),0x7d0);}}function checkLibrariesLoaded(){return new Promise(_0x3dde7a=>{const _0x6df149=setInterval(()=>{const _0x3d929d=_0x8440;window['L']&&window[_0x3d929d(0x109)]&&(clearInterval(_0x6df149),_0x3dde7a());},0x64);});}function showLoading(){const _0xf7d316=_0xd25496;document[_0xf7d316(0xe6)]('pano')[_0xf7d316(0xc8)]=_0xf7d316(0x108);if(!document['getElementById'](_0xf7d316(0xcc))){const _0x3d11cf=document['createElement'](_0xf7d316(0xca));_0x3d11cf['id']=_0xf7d316(0xcc),_0x3d11cf[_0xf7d316(0xd2)]=_0xf7d316(0xd1),document[_0xf7d316(0x126)][_0xf7d316(0xc3)](_0x3d11cf);}}function hideLoading(){const _0x321fb9=_0xd25496,_0x105f2c=document[_0x321fb9(0xe6)](_0x321fb9(0xda));_0x105f2c&&_0x105f2c[_0x321fb9(0xc8)][_0x321fb9(0xe5)](_0x321fb9(0x11b))&&(_0x105f2c[_0x321fb9(0xc8)]='');}function initialize(){const _0x39d05f=_0xd25496;check_count=0x0,disableButton(_0x39d05f(0x100)),showLoading(),getRandomMapillaryImage()[_0x39d05f(0xfb)](_0xba1b48=>{const _0x4d7a4b=_0x39d05f;if(!_0xba1b48)return location[_0x4d7a4b(0xd6)]();true_location=[_0xba1b48[_0x4d7a4b(0x118)],_0xba1b48[_0x4d7a4b(0xfc)]],current_name=_0x4d7a4b(0x10a),document['getElementById'](_0x4d7a4b(0xda))[_0x4d7a4b(0xc8)]='';try{if(window[_0x4d7a4b(0x109)]&&window[_0x4d7a4b(0x109)][_0x4d7a4b(0xbd)]){hideLoading();const _0x430f79=new PhotoSphereViewer[(_0x4d7a4b(0xbd))]({'container':document[_0x4d7a4b(0xe6)](_0x4d7a4b(0xda)),'panorama':_0xba1b48['url'],'loadingImg':null,'defaultYaw':0x0,'defaultZoomLvl':-0x5a,'navbar':[_0x4d7a4b(0xe3),_0x4d7a4b(0xe4)],'mousewheel':![],'touchmoveTwoFingers':!![]});_0x430f79[_0x4d7a4b(0xc5)](_0x4d7a4b(0xd3),()=>{const _0xf4573c=_0x4d7a4b;console[_0xf4573c(0xe2)]('Photo\x20Sphere\x20Viewer\x20loaded\x20successfully');}),_0x430f79['addEventListener'](_0x4d7a4b(0xf4),()=>{const _0x36b2dd=_0x4d7a4b;console[_0x36b2dd(0xe2)](_0x36b2dd(0xed));}),_0x430f79[_0x4d7a4b(0xc5)](_0x4d7a4b(0xf8),_0x52fb6a=>{const _0x379a9d=_0x4d7a4b;console['error'](_0x379a9d(0xef),_0x52fb6a),hideLoading(),document[_0x379a9d(0xe6)](_0x379a9d(0xda))[_0x379a9d(0xc8)]=_0x379a9d(0xc6)+_0xba1b48[_0x379a9d(0x114)]+_0x379a9d(0x106);});}else console[_0x4d7a4b(0xf1)](_0x4d7a4b(0xc2)),hideLoading(),document[_0x4d7a4b(0xe6)](_0x4d7a4b(0xda))[_0x4d7a4b(0xc8)]=_0x4d7a4b(0xc6)+_0xba1b48['url']+'\x22\x20style=\x22width:100%;\x20height:100%;\x20object-fit:cover;\x20border-radius:10px;\x22\x20/>';}catch(_0x1911d6){console[_0x4d7a4b(0xbf)](_0x4d7a4b(0xf0),_0x1911d6),hideLoading(),document[_0x4d7a4b(0xe6)](_0x4d7a4b(0xda))[_0x4d7a4b(0xc8)]=_0x4d7a4b(0xc6)+_0xba1b48[_0x4d7a4b(0x114)]+'\x22\x20style=\x22width:100%;\x20height:100%;\x20object-fit:cover;\x20border-radius:10px;\x22\x20/>';}map=L[_0x4d7a4b(0xe7)](_0x4d7a4b(0xe7))['setView']([(minLat+maxLat)/0x2,(minLong+maxLong)/0x2],0xa),L[_0x4d7a4b(0x103)](_0x4d7a4b(0x107),{'maxZoom':0x13})[_0x4d7a4b(0xd8)](map),map['on'](_0x4d7a4b(0xbc),function(_0x1ee856){const _0x37d109=_0x4d7a4b;deleteMarkers(),guess_coordinates=[_0x1ee856['latlng'][_0x37d109(0x118)],_0x1ee856[_0x37d109(0xc9)][_0x37d109(0xfc)]];const _0x12b192=L[_0x37d109(0x10c)](_0x1ee856['latlng'])[_0x37d109(0xd8)](map);markers['push'](_0x12b192),check_count===0x0&&(enableButton(_0x37d109(0x100)),check_count+=0x1);});})[_0x39d05f(0xeb)](_0x841951=>{const _0x3bfa87=_0x39d05f;console['error'](_0x3bfa87(0xc1),_0x841951),document[_0x3bfa87(0xe6)](_0x3bfa87(0xda))[_0x3bfa87(0xc8)]=_0x3bfa87(0xe1);});}function clearMarkers(){const _0x528ac7=_0xd25496;for(let _0x485b16=0x0;_0x485b16<markers[_0x528ac7(0xd9)];_0x485b16++){map['removeLayer'](markers[_0x485b16]);}markers=[];}function deleteMarkers(){clearMarkers();}function continueGame(){const _0x305aac=_0xd25496;var _0x544823=new bootstrap[(_0x305aac(0xf6))](document[_0x305aac(0xe6)]('resultModal'));_0x544823[_0x305aac(0xd4)](),location[_0x305aac(0xd6)]();}function check(){const _0x2c6030=_0xd25496;distance_from_guess=[];var _0x18b3ff=distance(guess_coordinates[0x0],guess_coordinates[0x1],true_location[0x0],true_location[0x1],'M');accumulated_distance+=parseFloat(_0x18b3ff),distance_from_guess=_0x18b3ff,showResultModal(distance_from_guess),disableButton(_0x2c6030(0x100));}function distance(_0x5d8430,_0x5b6f3f,_0x22dfa9,_0x4fb026,_0x2d65e8){const _0x201750=_0xd25496;if(_0x5d8430==_0x22dfa9&&_0x5b6f3f==_0x4fb026)return 0x0;else{var _0x3692ee=Math['PI']*_0x5d8430/0xb4,_0x19959f=Math['PI']*_0x22dfa9/0xb4,_0x2de162=_0x5b6f3f-_0x4fb026,_0x167537=Math['PI']*_0x2de162/0xb4,_0x2d380f=Math[_0x201750(0xf5)](_0x3692ee)*Math['sin'](_0x19959f)+Math[_0x201750(0x115)](_0x3692ee)*Math[_0x201750(0x115)](_0x19959f)*Math['cos'](_0x167537);if(_0x2d380f>0x1)_0x2d380f=0x1;_0x2d380f=Math['acos'](_0x2d380f),_0x2d380f=_0x2d380f*0xb4/Math['PI'],_0x2d380f=_0x2d380f*0x3c*1.1515;if(_0x2d65e8=='K')_0x2d380f=_0x2d380f*1.609344;if(_0x2d65e8=='N')_0x2d380f=_0x2d380f*0.8684;return _0x2d380f=_0x2d380f*1609.34,_0x2d380f[_0x201750(0x11a)](0x1);}}function display_location(){const _0x24ed9e=_0xd25496,_0x5ec605=document[_0x24ed9e(0xe6)]('score');if(distance_from_guess>0x3e8)_0x5ec605[_0x24ed9e(0xc8)]='Hmm!\x20Your\x20distance\x20is\x20'+distance_from_guess+'m\x20away.';else{if(distance_from_guess>0xc8)_0x5ec605[_0x24ed9e(0xc8)]='Good\x20job!\x20Your\x20distance\x20is\x20'+distance_from_guess+_0x24ed9e(0xcd);else _0x5ec605['innerHTML']=_0x24ed9e(0x119)+distance_from_guess+_0x24ed9e(0xcd);}}function disableButton(_0x416f2f){const _0x4f1da4=_0xd25496;document[_0x4f1da4(0xe6)](_0x416f2f)[_0x4f1da4(0xc4)]=!![];}function enableButton(_0x5ed706){const _0x296fac=_0xd25496;document['getElementById'](_0x5ed706)[_0x296fac(0xc4)]=![];}function showResultModal(_0x5df734){const _0x41d76d=_0xd25496,_0x3da8bf=document[_0x41d76d(0xe6)](_0x41d76d(0xdd)),_0x494da6=document[_0x41d76d(0xe6)](_0x41d76d(0xd7)),_0x2f0755=document['getElementById'](_0x41d76d(0x104));if(distance_from_guess>0x3e8)_0x2f0755['innerHTML']=(distance_from_guess/0x3e8)['toFixed'](0x2)+_0x41d76d(0x111);else _0x2f0755[_0x41d76d(0xc8)]=distance_from_guess+'\x20M';if(distance_from_guess>0x3e8)_0x494da6[_0x41d76d(0xc8)]=_0x41d76d(0xe9);else{if(distance_from_guess>0xc8)_0x494da6[_0x41d76d(0xc8)]=_0x41d76d(0x120);else _0x494da6[_0x41d76d(0xc8)]=_0x41d76d(0xde);}_0x3da8bf['style'][_0x41d76d(0x116)]=_0x41d76d(0xbb),createResultMap();}function createResultMap(){const _0x35a46a=_0xd25496,_0xcb2a0=document['getElementById'](_0x35a46a(0xf9));_0xcb2a0[_0x35a46a(0xc8)]='';var _0x2a78e9=L[_0x35a46a(0xe7)](_0x35a46a(0xf9))['setView'](true_location,0xc);L[_0x35a46a(0x103)](_0x35a46a(0x107),{'maxZoom':0x13})[_0x35a46a(0xd8)](_0x2a78e9),setTimeout(()=>{const _0x3acf16=_0x35a46a;_0x2a78e9[_0x3acf16(0xfe)]();},0x64);const _0x10a007=L[_0x35a46a(0x10c)](true_location,{'icon':L[_0x35a46a(0x10e)]({'iconUrl':_0x35a46a(0xc7),'iconSize':[0x20,0x20]})})['addTo'](_0x2a78e9)[_0x35a46a(0x123)](current_name),_0x2dfff9=L[_0x35a46a(0x10c)](guess_coordinates,{'icon':L[_0x35a46a(0x10e)]({'iconUrl':_0x35a46a(0xe0),'iconSize':[0x20,0x20]})})[_0x35a46a(0xd8)](_0x2a78e9)[_0x35a46a(0x123)]('Your\x20Guess'),_0x10adb7=L[_0x35a46a(0x117)]([true_location,guess_coordinates],{'color':_0x35a46a(0x102),'dashArray':_0x35a46a(0x110)})['addTo'](_0x2a78e9),_0x2ce40f=new L[(_0x35a46a(0xc0))]([_0x10a007,_0x2dfff9]);_0x2a78e9[_0x35a46a(0x105)](_0x2ce40f[_0x35a46a(0xe8)]()[_0x35a46a(0xce)](0.1));}function closeResultModal(){const _0xadf42a=_0xd25496;document[_0xadf42a(0xe6)]('resultModal')['style'][_0xadf42a(0x116)]=_0xadf42a(0xff);}window[_0xd25496(0x125)]=function(_0x3cb3b3){const _0x35932d=_0xd25496,_0x239ea0=document['getElementById'](_0x35932d(0xdd));_0x3cb3b3['target']===_0x239ea0&&closeResultModal();};function nextRound(){const _0x37a7c2=_0xd25496;closeResultModal(),location[_0x37a7c2(0xd6)]();}function goBack(){const _0x1862ab=_0xd25496;window[_0x1862ab(0xbe)][_0x1862ab(0xf2)]='/';}function showDonateModal(){const _0x58a0e8=_0xd25496,_0x367e0b=document[_0x58a0e8(0xe6)](_0x58a0e8(0x101));_0x367e0b['style'][_0x58a0e8(0x116)]=_0x58a0e8(0xbb);}function closeDonate(){const _0x33dfb3=_0xd25496,_0x32f0a5=document[_0x33dfb3(0xe6)](_0x33dfb3(0x101));_0x32f0a5[_0x33dfb3(0xca)][_0x33dfb3(0x116)]=_0x33dfb3(0xff);}window[_0xd25496(0x11e)]=function(){const _0x17963f=_0xd25496,_0x21b61a=new URLSearchParams(window[_0x17963f(0xbe)]['search']),_0xd6d30f=_0x21b61a['get'](_0x17963f(0xbe));_0xd6d30f&&(choiceLocation=_0xd6d30f),minLat=boundingBoxVN[choiceLocation][0x1],maxLat=boundingBoxVN[choiceLocation][0x3],minLong=boundingBoxVN[choiceLocation][0x0],maxLong=boundingBoxVN[choiceLocation][0x2],delta=boundingBoxVN[choiceLocation][0x4],checkLibrariesLoaded()[_0x17963f(0xfb)](()=>{initialize();});};